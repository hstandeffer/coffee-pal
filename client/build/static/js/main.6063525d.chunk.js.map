{"version":3,"sources":["serviceWorker.js","components/SignOut/style.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/SignOut/index.js","constants/routes.js","components/Navigation/RightNav.js","components/Navigation/Burger.js","components/Navigation/Navbar.js","components/Session/context.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/Navigation/index.js","components/Landing/style.js","shared-style.js","components/Landing/index.js","components/SignUp/index.js","components/PasswordForget/index.js","components/SignIn/index.js","components/PasswordChange/index.js","components/Account/index.js","components/Admin/index.js","components/Profile/style.js","components/Profile/index.js","components/Search/style.js","components/Search/TemporaryDrawer.js","components/Search/index.js","components/Browse/style.js","components/Browse/index.js","components/Tasting/style.js","components/Tasting/index.js","components/Tasting/ProductTasting.js","components/Product/style.js","components/Product/index.js","components/App/index.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","StyledButton","styled","button","open","FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","onAuthUserListener","next","fallback","auth","onAuthStateChanged","authUser","user","uid","once","snapshot","dbUser","val","roles","email","doCreateUserWithEmailAndPassword","password","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","db","ref","users","coffee","id","coffees","userCoffees","coffeeId","usersCoffees","userTastings","tastingId","coffeeUsers","coffeesUsers","app","initializeApp","this","database","handleSignout","a","history","push","closeMenu","compose","withRouter","type","onClick","StyledLink","Link","Ul","ul","nonAuthRoutes","route","text","authRoutes","RightNav","routeList","map","obj","key","to","StyledBurger","div","Burger","useState","setOpen","Nav","nav","Navbar","className","AuthUserContext","withAuthentication","loaded","listener","setState","Provider","value","withAuthorization","condition","WithAuthorization","_isMounted","Navigation","LandingBanner","FullWidthWrapper","FeaturesWrapper","FeaturesHeader","h2","GetStartedButton","h1","StyledH1","Wrapper","StyledDiv","Input","input","Textarea","textarea","Typography","variant","component","placeholder","INITIAL_STATE","username","passwordOne","passwordTwo","experience","favoriteBrewingMethod","favoriteRoastType","drinkOfChoice","SignUpFormBase","onSubmit","event","set","preventDefault","onChange","target","name","onChangeCheckbox","checked","isInvalid","disabled","message","SignUpLink","SignUpForm","PasswordForgetFormBase","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","SignInFormBase","SignInForm","PasswordChangeForm","style","margin","fontSize","color","PasswordChange","UserList","loading","setLoading","setUsers","search","setSearch","info","setInfo","roastInput","setRoastInput","singleOriginInput","setSingleOriginInput","blendInput","setBlendInput","handleSubmit","fetch","html","data","parser","DOMParser","doc","parseFromString","title","getMetaContent","property","querySelector","getAttribute","foundTitle","orderByChild","equalTo","limitToFirst","exists","found","Object","keys","body","innerText","roast","includes","countries","country","description","fairTrade","toLowerCase","organic","shadeGrown","singleOrigin","blend","metaCoffeeObj","price","currency","url","imageUrl","siteName","roastType","confirm","JSON","stringify","length","usersObject","usersList","Profile","setCoffees","useEffect","coffeeIdsObject","forEach","item","c","concat","FiltersWrapper","FiltersDiv","StyledH2","ItemsDiv","FlexContainer","FlexProductDiv","ImageContainer","ImageContentContainer","InfoContainer","Image","img","TemporaryDrawer","filters","setFilters","top","left","bottom","right","toggleDrawer","anchor","Button","Drawer","onClose","Filters","handleChange","lightRoast","mediumRoast","darkRoast","FormGroup","Divider","FormControlLabel","control","Checkbox","label","CoffeeList","onFavoriteClick","CoffeeItem","src","alt","height","overflow","fontWeight","textTransform","Search","filteredCoffees","useMemo","trueFilters","k","filter","roastFound","coffeeObject","coffeesList","Grid","container","direction","justify","Hidden","smDown","md","sm","mdUp","ProductLink","BrowseWrapper","BrowseFiltersDiv","BrowseHitsDiv","TestDiv","filtering","TestFooter","footer","TestButton","MobileFiltersButtonWrapper","SaveFiltersButtonMobile","BrowseFiltersHeaderDiv","ClearRefinementsButton","ClearRefinementsButtonMobile","AlgoliaRefinementHeader","AlgoliaAllRefinementListsWrapper","AlgoliaRefinementListWrapper","AlgoliaSearchBarDiv","AlgoliaSearchBarForm","form","AlgoliaSearchBarInput","AlgoliaSearchBarSubmitButton","AlgoliaPoweredByImage","AlgoliaPoweredByLink","AlgoliaStyledStats","p","AlgoliaStyledUl","current","AlgoliaStyledCurrentRefinementOuterSpan","span","AlgoliaStyledLi","li","AlgoliaStyledOuterRefinementListSpan","AlgoliaStyledRefinementListCountSpan","searchClient","algoliasearch","CustomClearRefinements","connectCurrentRefinements","items","refine","xmlns","width","viewBox","fill","fillRule","opacity","d","CustomClearRefinementsMobile","SaveFiltersMobile","connectStats","nbHits","CustomCurrentRefinements","nested","href","CustomRefinementList","connectRefinementList","header","isRefined","count","CustomStats","processingTimeMS","CustomHits","connectHits","hits","hit","objectID","Hit","replace","CustomSearchBox","connectSearchBox","currentRefinement","isSearchStalled","setVal","noValidate","action","role","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","x1","y1","x2","y2","smUp","xsDown","setFiltering","InstantSearch","indexName","transformItems","attribute","operator","hitComponent","TastingWrapper","TastingDiv","BoldLabel","TastingPage","useParams","setCoffee","brewMethod","setBrewMethod","coffeeTemperature","setCoffeeTemperature","grindSize","setGrindSize","brewTime","setBrewTime","coffeeWeight","setCoffeeWeight","waterWeight","setWaterWeight","notes","setNotes","padding","textAlign","htmlFor","join","exact","path","LandingPage","SignUpPage","SignInPage","AccountPage","ProfilePage","AdminPage","BrowsePage","ProductPage","SearchPage","ProductTastingPage","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.6063525d.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import styled from 'styled-components';\r\n\r\nexport const StyledButton = styled.button`\r\n  font-size: 1em;\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  color: ${({ open }) => open && !!open ? '#4A4A4A' : '#fff' };\r\n  padding: 0;\r\n  font-weight: 600;\r\n`","import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n    <FirebaseContext.Consumer>\r\n        {firebase => <Component {...props} firebase={firebase} />}\r\n    </FirebaseContext.Consumer>\r\n); //review how this works\r\n\r\nexport default FirebaseContext;\r\n\r\n// function written out here to show how components are passed, \r\n// const withFirebase = function(Component) {\r\n//     return function(props) {\r\n//         <FirebaseContext.Consumer>\r\n//              return function(firebase) {\r\n//                <Component {...props} firebase={firebase} />\r\n//              }\r\n//         </FirebaseContext.Consumer>\r\n//     }\r\n// }","import app from 'firebase/app'\r\nimport 'firebase/auth';\r\nimport 'firebase/database'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBbmQDagNn9z-qDpa8_xmHyKfnjG901Cqo\",\r\n  authDomain: \"coffee-pal-app.firebaseapp.com\",\r\n  databaseURL: \"https://coffee-pal-app.firebaseio.com\",\r\n  projectId: \"coffee-pal-app\",\r\n  storageBucket: \"coffee-pal-app.appspot.com\",\r\n  messagingSenderId: \"197851326315\",\r\n  appId: \"1:197851326315:web:e8aef28c76ac33aaf8ce2e\",\r\n  measurementId: \"G-SE0SL6CFVE\"\r\n}\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(firebaseConfig);\r\n\r\n    this.auth = app.auth();\r\n    this.db = app.database();\r\n  }\r\n\r\n  // this listener function expects two functions, next and fallback\r\n  // next takes the authUser variable as an argument and in the HOCs a function is provided\r\n  // as well as an action to take depending if the user is authorized or not\r\n  // if an authUser is provided, next is run (the function provided first in HOC), otherwise the fallback function is run\r\n  onAuthUserListener = (next, fallback) =>\r\n    this.auth.onAuthStateChanged(authUser => {\r\n      if (authUser) {\r\n        this.user(authUser.uid)\r\n          .once('value')\r\n          .then(snapshot => {\r\n            const dbUser = snapshot.val()\r\n \r\n            // default empty roles\r\n            if (!dbUser.roles) {\r\n              dbUser.roles = {}\r\n            }\r\n \r\n            // merge auth and db user\r\n            authUser = {\r\n              uid: authUser.uid,\r\n              email: authUser.email,\r\n              ...dbUser,\r\n            }\r\n \r\n            next(authUser)\r\n          });\r\n      } else {\r\n        fallback()\r\n      }\r\n    })\r\n\r\n  // **Auth API **\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignOut = () => this.auth.signOut();\r\n\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = password => this.auth.currentUser.updatePassword(password);\r\n\r\n  // **User API **\r\n\r\n  user = uid => this.db.ref(`users/${uid}`);\r\n  \r\n  users = () => this.db.ref(`users`);\r\n\r\n  coffee = id => this.db.ref(`coffee/${id}`);\r\n\r\n  coffees = () => this.db.ref(`coffee`) // use plural, even though singular in database\r\n\r\n  userCoffees = (uid, coffeeId) => coffeeId ? (this.db.ref(`usersCoffees/${uid}/${coffeeId}`)) : (this.db.ref(`usersCoffees/${uid}`))\r\n\r\n  usersCoffees = () => this.db.ref(`usersCoffees`)\r\n\r\n  userTastings = (uid, tastingId) => this.db.ref(`usersTastings/${uid}`)\r\n\r\n  coffeeUsers = (id) => this.db.ref(`coffeesUsers/${id}`)\r\n\r\n  coffeesUsers = () => this.db.ref(`coffeesUsers`)\r\n}\r\n\r\nexport default Firebase;","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\nexport { FirebaseContext, withFirebase };","import React from 'react'\r\nimport { StyledButton } from './style'\r\nimport * as ROUTES from '../../constants/routes'\r\n\r\nimport { compose } from 'recompose'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { withFirebase } from '../Firebase'\r\n\r\nconst handleSignout = async props => {\r\n  await props.firebase.doSignOut()\r\n  await props.history.push(ROUTES.LANDING)\r\n  await props.closeMenu()\r\n}\r\n\r\nconst SignOutButton = (props) => (\r\n  <StyledButton open={props.open} type=\"button\" onClick={() => handleSignout(props)}>Sign Out</StyledButton>\r\n);\r\n\r\nexport default compose(withFirebase, withRouter)(SignOutButton)","export const LANDING = '/'\r\nexport const SIGN_UP = '/signup'\r\nexport const SIGN_IN = '/signin'\r\nexport const ACCOUNT = '/account'\r\nexport const ADMIN = '/admin'\r\nexport const PASSWORD_FORGET = '/pw-forget'\r\nexport const PROFILE = '/profile'\r\nexport const BROWSE = '/browse'\r\nexport const PRODUCT = '/coffee/:title/:id'\r\nexport const SEARCH = '/search'\r\nexport const TASTING = '/tasting'\r\nexport const PRODUCT_TASTING = '/tasting/:title/:id'","import React from 'react'\nimport styled from 'styled-components'\nimport * as ROUTES from '../../constants/routes'\nimport { Link } from 'react-router-dom'\nimport StyledButton from '../SignOut'\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: ${({ open }) => open ? '#4A4A4A' : '#fff' };\n  font-weight: 600;\n`\n\nconst Ul = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-flow: row nowrap;\n  margin: 0;\n  z-index: 19; \n  /* look into the account buttons overlapping if above line is removed */\n\n  li {\n    padding: 18px 10px;\n  }\n\n  @media (max-width: 960px) {\n    flex-flow: column nowrap;\n    background-color: #fff;\n    position: fixed;\n    transform: ${({ open }) => open ? 'translateX(0)' : 'translateX(100%)'};\n    top: 0;\n    right: 0;\n    height: 100vh;\n    width: 100%;\n    padding-top: 3.5rem;\n    padding-left: 0;\n    text-align: center;\n    font-size: 20px;\n    transition: transform 0.3s ease-in-out;\n  }\n`\n\nconst nonAuthRoutes = [\n  {\n    route: ROUTES.SIGN_IN,\n    text: 'Login'\n  },\n  {\n    route: ROUTES.SIGN_UP,\n    text: 'Sign Up'\n  }\n]\n\nconst authRoutes = [\n  {\n    route: ROUTES.BROWSE,\n    text: 'Browse'\n  },\n  {\n    route: ROUTES.PROFILE,\n    text: 'Profile'\n  },\n  {\n    route: ROUTES.ACCOUNT,\n    text: 'Account'\n  }\n]\n\nconst RightNav = ({ open, authUser, onClick, closeMenu }) => {\n  const routeList = authUser ? authRoutes : nonAuthRoutes\n  return (\n    <Ul open={open}>\n      {routeList.map((obj) => (\n        <li key={obj.text}>\n          <StyledLink open={open} onClick={closeMenu} to={obj.route}>{obj.text}</StyledLink>\n        </li>\n      ))}\n      {authUser ? <li><StyledButton open={open} closeMenu={closeMenu} /></li> : null}\n    </Ul>\n  )\n}\n\nexport default RightNav","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport RightNav from './RightNav'\n\nconst StyledBurger = styled.div`\n  width: 2rem;\n  height: 2rem;\n  position: absolute;\n  top: 15px;\n  right: 20px;\n  z-index: 20;\n  display: none;\n\n  @media (max-width: 960px) {\n    display: flex;\n    justify-content: space-around;\n    flex-flow: column nowrap;\n  }\n\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    background-color: ${({ open }) => open ? 'grey' : '#fff'};\n    border-radius: 10px;\n    transform-origin: 1px;\n    transition: all 0.2s linear;\n\n    &:nth-child(1) {\n      transform: ${({ open }) => open ? 'rotate(45deg)' : 'rotate(0)'}\n    }\n\n    &:nth-child(2) {\n      transform: ${({ open }) => open ? 'translateX(100%)' : 'translateX(0)'};\n      opacity: ${({ open }) => open ? 0 : 1 }\n    }\n\n    &:nth-child(3) {\n      transform: ${({ open }) => open ? 'rotate(-45deg)' : 'rotate(0)'}\n    }\n  }\n`\n\nconst Burger = ({ authUser }) => {\n  const [open, setOpen] = useState(false)\n\n  return (\n    <>\n      <StyledBurger open={open} onClick={() => setOpen(!open)}>\n        <div />\n        <div />\n        <div />\n      </StyledBurger>\n      <RightNav authUser={authUser} open={open} closeMenu={() => setOpen(false)} onClick={() => setOpen(!open)} />\n    </>\n  )\n}\n\nexport default Burger","import React from 'react'\nimport styled from 'styled-components'\nimport Burger from './Burger'\nimport { Link } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes'\n\nexport const StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #36414a;\n  font-weight: 600;\n  color: #fff;\n`\n\nconst Nav = styled.nav`\n  width: 100%;\n  height: 65px;\n  padding: 0 2.5em;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #275e71;\n\n  .logo {\n    padding: 15px 0;\n    color: #fff;\n    font-size: 1.5rem;\n  }\n\n  @media (max-width: 768px) {\n    padding: 0 20px;\n  }\n`\n\nconst Navbar = ({ authUser }) => {\n  return (\n    <Nav>\n      <div className=\"logo\">\n        <StyledLink to={ROUTES.LANDING}>\n          baroasta\n        </StyledLink>\n      </div>\n      <Burger authUser={authUser} />\n    </Nav>\n  )\n}\n\nexport default Navbar","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;","import React from 'react';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst withAuthentication = Component => {\r\n  class withAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n  \r\n      this.state = {\r\n        authUser: null,\r\n        loaded: false\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.onAuthUserListener(\r\n        authUser => { // this is the \"next\" callback function passed to the firebase class, passing in authUser when state changes\r\n          this.setState({ authUser })\r\n          this.setState({ loaded: true})\r\n        },\r\n        () => { // this is the \"fallback\" callback function passed to the firebase class, setting authUser to null when state changes\r\n          this.setState({ authUser: null })\r\n          this.setState({ loaded: true})\r\n        }\r\n      )\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      if (!this.state.loaded) {\r\n        return null\r\n      }\r\n      \r\n      return (\r\n        <AuthUserContext.Provider value={this.state.authUser}>\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n      );\r\n    }\r\n  }\r\n  return withFirebase(withAuthentication);\r\n}\r\n\r\nexport default withAuthentication;","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { compose } from 'recompose'\r\n\r\nimport AuthUserContext from './context'\r\nimport { withFirebase} from '../Firebase'\r\nimport * as ROUTES from '../../constants/routes'\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class WithAuthorization extends React.Component {\r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n      super(props)\r\n\r\n      this.state = {\r\n        loaded: false\r\n      }\r\n    }\r\n\r\n    componentDidMount() {\r\n      this._isMounted = true\r\n      this.listener = this.props.firebase.onAuthUserListener(\r\n        authUser => {\r\n          if (!condition(authUser) || condition(authUser) === 'public') {\r\n            this.props.history.push(ROUTES.BROWSE)\r\n          }\r\n          if (this._isMounted) {\r\n            this.setState({ loaded: true })\r\n          }\r\n        },\r\n        (authUser = null) => {\r\n          if (condition(authUser) === 'public') {\r\n            if (this._isMounted) {\r\n              this.setState({ loaded: true })\r\n            }\r\n          }\r\n          else {\r\n            this.props.history.push(ROUTES.SIGN_IN)\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this._isMounted = false;\r\n      this.listener()\r\n    }\r\n    \r\n    render() {\r\n      if (!this.state.loaded) { // okay way of handling public route redirects\r\n        return null\r\n      }\r\n\r\n      return (\r\n        <AuthUserContext.Consumer>\r\n          {authUser =>\r\n            condition(authUser) ? <Component {...this.props} /> : null\r\n          }\r\n        </AuthUserContext.Consumer>\r\n      )\r\n    }\r\n  }\r\n  \r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(WithAuthorization)\r\n}\r\n\r\nexport default withAuthorization","import React from 'react';\r\nimport Navbar from './Navbar'\r\nimport { AuthUserContext } from '../Session';\r\n\r\nconst Navigation = () => (\r\n  <AuthUserContext.Consumer>\r\n    {authUser =>\r\n      <Navbar authUser={ authUser ? true : false } />\r\n    }\r\n  </AuthUserContext.Consumer>\r\n)\r\n\r\n\r\nexport default Navigation","import styled from 'styled-components'\r\n\r\nexport const LandingBanner = styled.div`\r\n  width: 100%;\r\n  padding: 5em 1em;\r\n  text-align: center;\r\n  color: #36414a;\r\n\r\n  @media (max-width: 600px) {\r\n    padding: 5em 30px;\r\n  }\r\n`\r\n\r\nexport const FullWidthWrapper = styled.div`\r\n  width: 100%;\r\n`\r\n\r\nexport const FullWidthDiv = styled.div`\r\n  width: 100%;\r\n  background-color: '#fff';\r\n`\r\n\r\nexport const FeaturesWrapper = styled.div`\r\n  padding: 5em 15em 10em;\r\n  text-align: center;\r\n  /* background: linear-gradient(287deg, #2795c7, #38b4c3); */\r\n  background: #00bcd4;\r\n  \r\n\r\n  @media (max-width: 960px) {\r\n    padding: 5em 5em 10em\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    padding: 5em 1.5em 10em;\r\n  }\r\n`\r\n\r\n// export const FeaturesDiv = styled.div`\r\n//   padding: \r\n// `\r\n\r\nexport const FeaturesHeader = styled.h2`\r\n  color: #fff;\r\n`\r\n\r\nexport const StyledH1 = styled.h1`\r\n  margin: 0;\r\n`\r\n\r\nexport const GetStartedButton = styled.button`\r\n  font-size: 20px;\r\n  padding: 0.5em 1.5em;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  color: #fff;\r\n  background: #0a8c5d; \r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n\r\n  &:hover {\r\n    background: #0d7f56;\r\n  }\r\n`\r\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom'\n\nexport const StyledH1 = styled.h1`\n\tmargin-top: 0;\n`\n\nexport const Wrapper = styled.div`\n  width: 100%;\n\tpadding: 2.5em;\n\n\t@media (max-width: 600px) {\n\t\tpadding: 0;\n\t}\n`\n\nexport const StyledDiv = styled.div`\n\tmax-width: 480px;\n\tpadding: 2.5em;\n\tmargin: 2.5em auto;\n\ttext-align: center;\n\tbackground: #fff;\n\tborder-radius: 4px;\n\tborder: 1px solid #d9e7ea;\n\n\t@media (max-width: 600px) {\n\t\tpadding: 24px;\n\t\tborder-radius: 0;\n\t}\n`\n\nexport const Input = styled.input`\n\tdisplay: block;\n\tmargin: 15px auto;\n\tpadding: 10px;\n\tbackground: transparent;\n\tborder: none;\n\twidth: 100%;\n\tbackground: #f7f7f7;\n\tfont-family: inherit;\n\tfont-size: 20px;\n\tborder: 1px solid #d9e7ea;\n\tborder-radius: 4px;\n\toutline: none;\n\n\t&:focus {\n\t\toutline-color: #73777d;\n\t}\n`\n\nexport const Textarea = styled.textarea`\n\tdisplay: block;\n\tmargin: 15px auto;\n\tpadding: 10px;\n\tbackground: transparent;\n\tborder: none;\n\twidth: 100%;\n\tbackground: #f7f7f7;\n\tfont-family: inherit;\n\tfont-size: 20px;\n\tborder: 1px solid #d9e7ea;\n\tborder-radius: 4px;\n\toutline: none;\n\tresize: vertical;\n\n\t&:focus {\n\t\toutline-color: #73777d;\n\t}\n`\n\nexport const StyledButton = styled.button`\n\tfont-size: 20px;\n\tmargin-top: 10px;\n\tpadding: 0.5em 1em;\n\tborder: none;\n\tborder-radius: 4px;\n\tcursor: pointer;\n\twidth: 100%;\n\tbackground: #28445b;\n\tcolor: #fff;\n\n\t&:disabled {\n\t\topacity: 0.75\n\t}\n`\n\nexport const StyledLink = styled(Link)`\n    text-decoration: none;\n`","import React from 'react';\r\nimport { withAuthorization } from '../Session';\r\nimport { LandingBanner, GetStartedButton, FullWidthWrapper, FeaturesWrapper, FeaturesHeader } from './style'\r\nimport { Input } from '../../shared-style'\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nconst Landing = () => (\r\n  <FullWidthWrapper>\r\n    <LandingBanner>\r\n      <Typography variant=\"h3\" component=\"h1\">Discover Better Coffee</Typography>\r\n      <p>Browse from and compare hundreds of coffees from around the world</p>\r\n      <Link to={ROUTES.SIGN_UP}><GetStartedButton>Get Started</GetStartedButton></Link>\r\n    </LandingBanner>\r\n    <FeaturesWrapper>\r\n      <FeaturesHeader>Import coffee information from a product URL</FeaturesHeader>\r\n      <Input placeholder=\"Enter a product URL\"></Input>\r\n    </FeaturesWrapper>\r\n    {/* <FeaturesWrapper>\r\n      <Grid container direction=\"row\">\r\n        <Grid container item justify=\"center\" xs={12} sm={4}>\r\n          <p>Item 1</p>\r\n        </Grid>\r\n        <Grid container item justify=\"center\" xs={12} sm={4}>\r\n          <p>Item 2</p>\r\n        </Grid>\r\n        <Grid container item justify=\"center\" xs={12} sm={4}>\r\n          <p>Item 3</p>\r\n        </Grid>\r\n      </Grid>\r\n    </FeaturesWrapper> */}\r\n  </FullWidthWrapper>\r\n)\r\n\r\nconst condition = () => 'public'\r\n\r\nexport default withAuthorization(condition)(Landing)","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport { withAuthorization } from '../Session';\r\nimport { Wrapper, Input, StyledDiv, StyledButton, StyledLink } from '../../shared-style';\r\n\r\nimport { withFirebase } from '../Firebase'\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst SignUpPage = () => (\r\n  <Wrapper>\r\n    <StyledDiv>\r\n      <h1>Sign Up</h1>\r\n      <SignUpForm />\r\n    </StyledDiv>\r\n  </Wrapper>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  username: '',\r\n  email: '',\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  experience: '',\r\n  favoriteBrewingMethod: '',\r\n  favoriteRoastType: '',\r\n  drinkOfChoice: '',\r\n  error: null,\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { username, email, passwordOne } = this.state;\r\n\r\n    this.props.firebase\r\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n      .then(authUser => {\r\n        return this.props.firebase\r\n          .user(authUser.user.uid)\r\n          .set({\r\n            username,\r\n            email,\r\n          });\r\n      })\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.BROWSE);\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n      \r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  onChangeCheckbox = event => {\r\n    this.setState({ [event.target.name]: event.target.checked });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      username,\r\n      email,\r\n      passwordOne,\r\n      passwordTwo,\r\n      error\r\n    } = this.state;\r\n\r\n    const isInvalid = \r\n      passwordOne !== passwordTwo ||\r\n      passwordOne === '' ||\r\n      email === '' ||\r\n      username === ''\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <Input\r\n          name=\"username\"\r\n          value={username}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n        />\r\n        <Input\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <Input\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n        />\r\n        <Input\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Confirm Password\"\r\n        />\r\n        <StyledButton disabled={isInvalid} type=\"submit\">Sign Up</StyledButton> \r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst SignUpLink = () => (\r\n  <p>Don't have an account? <StyledLink to={ROUTES.SIGN_UP}>Sign Up</StyledLink></p>\r\n)\r\n\r\nconst SignUpForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SignUpFormBase);\r\n\r\nconst condition = () => 'public'\r\n\r\nexport default withAuthorization(condition)(SignUpPage)\r\n\r\nexport { SignUpForm, SignUpLink }","import React, { Component } from 'react';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { Input, StyledDiv, StyledButton, StyledLink } from '../../shared-style';\r\n\r\nconst PasswordForgetPage = () => (\r\n  <StyledDiv>\r\n    <h1>Forgot your password?</h1>\r\n    <PasswordForgetForm />\r\n  </StyledDiv>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n};\r\n\r\nclass PasswordForgetFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, error } = this.state;\r\n    const isInvalid = email === '';\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <Input\r\n          name=\"email\"\r\n          value={this.state.email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <StyledButton disabled={isInvalid} type=\"submit\">\r\n          Reset Password\r\n        </StyledButton>\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst PasswordForgetLink = () => (\r\n  <p>\r\n    <StyledLink to={ROUTES.PASSWORD_FORGET}>Forgot Password?</StyledLink>\r\n  </p>\r\n);\r\n\r\nexport default PasswordForgetPage;\r\n\r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\n\r\nexport { PasswordForgetForm, PasswordForgetLink };","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport { withAuthorization } from '../Session';\r\nimport { StyledH1, Wrapper, Input, StyledDiv, StyledButton } from '../../shared-style';\r\n\r\nimport { SignUpLink } from '../SignUp'\r\nimport { PasswordForgetLink } from '../PasswordForget';\r\nimport { withFirebase } from '../Firebase'\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst SignInPage = () => (\r\n  <Wrapper>\r\n    <StyledDiv>\r\n      <StyledH1>Login</StyledH1>\r\n      <SignInForm />\r\n      <PasswordForgetLink />\r\n      <SignUpLink />\r\n    </StyledDiv>\r\n  </Wrapper>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  error: null, \r\n};\r\n\r\nclass SignInFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { email, password } = this.state;\r\n\r\n    this.props.firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.BROWSE);\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      email,\r\n      password,\r\n      error\r\n    } = this.state;\r\n\r\n    const isInvalid = password === '' || email === '';\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <Input\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <Input\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n        />\r\n        <StyledButton disabled={isInvalid} type=\"submit\">Sign In</StyledButton>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst SignInForm = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SignInFormBase);\r\n  \r\nconst condition = () => 'public'\r\n\r\nexport default withAuthorization(condition)(SignInPage)","import React, { Component } from 'react';\r\nimport { Input, StyledButton } from '../../shared-style';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n}\r\n\r\nclass PasswordChangeForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { passwordOne } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordUpdate(passwordOne)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      })\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  };\r\n\r\n  render() {\r\n    const { passwordOne, passwordTwo, error } = this.state;\r\n\r\n    const isInvalid = \r\n      passwordOne !== passwordTwo || passwordOne === '';\r\n    \r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <Input\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"New Password\"\r\n        />\r\n        <Input\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Confirm New Password\"\r\n        />\r\n        <StyledButton disabled={isInvalid} type=\"submit\">\r\n          Change Password\r\n        </StyledButton>\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withFirebase(PasswordChangeForm);","import React from 'react';\r\nimport { Wrapper, StyledDiv } from '../../shared-style';\r\nimport { PasswordForgetForm } from '../PasswordForget';\r\nimport PasswordChangeForm from '../PasswordChange';\r\nimport { withAuthorization, AuthUserContext } from '../Session';\r\n\r\nconst AccountPage = () => (\r\n  <AuthUserContext.Consumer>\r\n    {authUser => (\r\n      <Wrapper>\r\n        <StyledDiv>\r\n          <h2 style={{margin: 0}}>Account Settings</h2>\r\n          <p style={{fontSize: '20px', color: '#383838'}}>{authUser.email}</p>\r\n          <PasswordForgetForm />\r\n          <PasswordChangeForm />\r\n        </StyledDiv>\r\n      </Wrapper>\r\n    )}\r\n  </AuthUserContext.Consumer>  \r\n)\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(condition)(AccountPage)","import React, { useState } from 'react'\r\nimport { compose } from 'recompose'\r\n\r\nimport fetch from 'node-fetch'\r\n\r\nimport { withAuthorization } from '../Session'\r\nimport { withFirebase } from '../Firebase'\r\nimport * as ROLES from '../../constants/roles'\r\nimport { StyledDiv } from '../../shared-style.js'\r\n\r\nconst Admin = ({ firebase }) => {\r\n  const [loading, setLoading] = useState(false)\r\n  const [users, setUsers] = useState([])\r\n  const [search, setSearch] = useState('')\r\n  const [info, setInfo] = useState('')\r\n  const [roastInput, setRoastInput] = useState('')\r\n  const [singleOriginInput, setSingleOriginInput] = useState(false)\r\n  const [blendInput, setBlendInput] = useState(false)\r\n\r\n  const getUsers = () => {\r\n    setLoading(true)\r\n    firebase.users().once('value', snapshot => {\r\n      const usersObject = snapshot.val()\r\n\r\n      const usersList = Object.keys(usersObject).map(key => ({\r\n        ...usersObject[key],\r\n        uid: key,\r\n      }))\r\n\r\n      setUsers(usersList)\r\n      setLoading(false)\r\n    })\r\n  }\r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault()\r\n\r\n    // make request of given URL, needs to handle errors\r\n    const html = await fetch(search)\r\n\r\n    // parse returned html into text\r\n    const data = await html.text()\r\n\r\n    // create parser and convert text to HTML document\r\n    const parser = new DOMParser()\r\n    const doc = parser.parseFromString(data, 'text/html')\r\n\r\n    const getMetaContent = (property) => {\r\n      return (doc.querySelector(property) ? doc.querySelector(property).getAttribute('content') : null)\r\n    }\r\n\r\n    const title = getMetaContent('meta[property=\"og:title\"]')\r\n\r\n    let foundTitle = ''\r\n    await firebase.coffees().orderByChild('title').equalTo(title).limitToFirst(1).once(\"value\", snapshot => {\r\n      if (snapshot.exists()) {\r\n        const found = snapshot.val()\r\n        const key = Object.keys(found)[0]\r\n        foundTitle = found[key].title\r\n      }\r\n    })\r\n\r\n    if (foundTitle) {\r\n      setInfo(`The coffee: '${foundTitle}' already exists`)\r\n      setSearch('')\r\n      return false\r\n    }\r\n\r\n    const body = doc.querySelector('body').innerText\r\n\r\n    let roast\r\n    if(!!roastInput && roastInput !== 'default') {\r\n      roast = roastInput\r\n    }\r\n\r\n    if (!roast) {\r\n      roast = search.includes('light-roast') ? 'light'\r\n      : search.includes('medium-roast') ? 'medium'\r\n      : search.includes('dark-roast') ? 'dark'\r\n      : null\r\n    }\r\n    \r\n    const countryList = ['Brazil', 'Vietnam', 'Columbia', 'Colombia', 'Sumatra', 'Indonesia', 'Ethiopia', 'Honduras', 'India', 'Uganda', 'Mexico', 'Guatemala', 'Peru', 'Nicaragua', 'Costa Rica']\r\n    const countries = []\r\n    for (const country of countryList) {\r\n      if (body.includes(country)) {\r\n        countries.push(country)\r\n      }\r\n    }\r\n    // declaring description here to search for items more quickly and so these terms are only searched for in description\r\n    const description = getMetaContent('meta[property=\"og:description\"]')\r\n\r\n    const fairTrade = description.toLowerCase().includes('fair trade') || description.toLowerCase().includes('fair-trade')\r\n      || title.toLowerCase().includes('fair trade') || title.toLowerCase().includes('fair-trade') || null\r\n    const organic = description.toLowerCase().includes('organic') || description.toLowerCase().includes('organic')\r\n      || title.toLowerCase().includes('organic') || title.toLowerCase().includes('organic') || null\r\n    const shadeGrown = description.toLowerCase().includes('shade grown') || description.toLowerCase().includes('shade-grown')\r\n      || title.toLowerCase().includes('shade grown') || title.toLowerCase().includes('shade-grown') || null\r\n\r\n    let singleOrigin\r\n    if(!!singleOriginInput && singleOriginInput !== 'default') {\r\n      singleOrigin = singleOriginInput\r\n    }\r\n\r\n    if (!singleOrigin) {\r\n      singleOrigin = description.toLowerCase().includes('single origin') || description.toLowerCase().includes('single-origin')\r\n      || title.toLowerCase().includes('single origin') || title.toLowerCase().includes('single-origin') || null\r\n    }\r\n\r\n    let blend\r\n    if(!!blendInput) {\r\n      blend = blendInput || null\r\n    } else {\r\n      blend = null\r\n    }\r\n\r\n\r\n    const metaCoffeeObj = {\r\n      title,\r\n      price: getMetaContent('meta[property=\"og:price:amount\"]') || getMetaContent('meta[property=\"product:price:amount\"]'),\r\n      currency: getMetaContent('meta[property=\"og:price:currency\"]') || getMetaContent('meta[property=\"product:price:currency\"]'),\r\n      description,\r\n      url: getMetaContent('meta[property=\"og:url\"]'),\r\n      imageUrl: getMetaContent('meta[property=\"og:image:secure_url\"]'),\r\n      siteName: getMetaContent('meta[property=\"og:site_name\"]'),\r\n      roastType: roast,\r\n      countries,\r\n      organic,\r\n      fairTrade,\r\n      shadeGrown,\r\n      singleOrigin,\r\n      blend\r\n    }\r\n\r\n    // TODO: set this object to a useState value and then display the data it found and allow edits before uploading to db\r\n\r\n    if (!window.confirm(`is the data correct? ${JSON.stringify(metaCoffeeObj)}`)) {\r\n      setSearch('')\r\n      setInfo(`${metaCoffeeObj.siteName}'s ${metaCoffeeObj.title} was not added to the database`)\r\n      setRoastInput('default')\r\n      return false\r\n    }\r\n    // chain a new unique key with push command and then set the object created above\r\n    firebase.coffees().push().set(metaCoffeeObj)\r\n    \r\n    setSearch('')\r\n    setRoastInput('default')\r\n    setInfo(`${metaCoffeeObj.siteName}'s ${metaCoffeeObj.title} has been successfully added to the database`)\r\n  }\r\n\r\n  return (\r\n    <StyledDiv>\r\n      <h1>Admin</h1>\r\n\r\n      {loading && <div>Loading...</div>}\r\n      {info && <div>{info}</div>}\r\n\r\n      { users.length > 0 ? <UserList users={users} /> : <button style={{margin: '20px auto'}} onClick={getUsers}>Load user list</button> }\r\n\r\n      <form style={{margin: '20px auto'}} onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          value={search}\r\n          placeholder=\"Enter a product URL link\"\r\n          onChange={({ target }) => setSearch(target.value)}\r\n        />\r\n        <button disabled={search.length === 0} type=\"submit\">Submit</button>\r\n      </form>\r\n      <label>Input roast manually: </label><select value={roastInput} onChange={({ target }) => setRoastInput(target.value)}>\r\n        <option value=\"default\">Roast Type</option>\r\n        <option value=\"light\">Light</option>\r\n        <option value=\"medium\">Medium</option>\r\n        <option value=\"dark\">Dark</option>\r\n      </select>\r\n      <div>\r\n        Single Origin?<input type=\"checkbox\" checked={singleOriginInput} onChange={({ target }) => setSingleOriginInput(target.checked)} />\r\n      </div>\r\n      <div>\r\n        Blend?<input type=\"checkbox\" checked={blendInput} onChange={({ target }) => setBlendInput(target.checked)} />\r\n      </div>\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst UserList = ({ users }) => (\r\n  <ul>\r\n    {users.map(user => (\r\n      <li key={user.uid}>\r\n        <span><strong> User ID:</strong> {user.uid}</span>\r\n        <span><strong> Email:</strong> {user.email}</span>\r\n        <span><strong> Username:</strong> {user.username}</span>\r\n      </li>\r\n    ))}\r\n  </ul>\r\n) \r\n\r\nconst condition = authUser => authUser && !!authUser.roles[ROLES.ADMIN]\r\n\r\nexport default compose(\r\n  withAuthorization(condition),\r\n  withFirebase\r\n)(Admin)","import styled from 'styled-components';\r\n\r\nexport const Input = styled.input`\r\n\tdisplay: block;\r\n\tmargin: 10px auto;\r\n\tpadding: 10px;\r\n\tbackground: transparent;\r\n\tborder: none;\r\n\twidth: 90%;\r\n\tbackground: #f7f7f7;\r\n\tfont-family: inherit;\r\n\tfont-size: 20px;\r\n\r\n\t&:focus {\r\n\t\toutline-color: #73777d;\r\n\t}\r\n`\r\n\r\nexport const Ul = styled.ul`\r\n\tlist-style-type: none;\r\n\tpadding-left: 0;\r\n`\r\n\r\nexport const StyledDiv = styled.div`\r\n\twidth: 100%;\r\n\tpadding: 24px;\r\n\tmargin: 0 auto 30px;\r\n\ttext-align: center;\r\n\tbackground: white;\r\n`\r\n\r\nexport const StyledButton = styled.button`\r\n\tfont-size: 20px;\r\n\tmargin-top: 10px;\r\n\tpadding: 0.25em 1em;\r\n\tborder: none;\r\n\tborder-radius: 20px;\r\n\tcursor: pointer;\r\n\twidth: 30%;\r\n`","import React, { useState, useEffect } from 'react';\r\nimport { withAuthorization } from '../Session';\r\nimport { withFirebase } from '../Firebase';\r\nimport { compose } from 'recompose';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { StyledDiv, Ul } from './style'\r\n\r\nconst ProfilePage = ({ firebase }) => {\r\n  const [coffees, setCoffees] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    firebase.userCoffees(firebase.auth.currentUser.uid).once('value')\r\n      .then((snapshot) => {\r\n        const coffeeIdsObject = snapshot.val()\r\n        const coffeeIdsList = Object.keys(coffeeIdsObject).map(key => ({\r\n          ...coffeeIdsObject[key],\r\n          uid: key,\r\n        }))\r\n        coffeeIdsList.forEach((item) => {\r\n          firebase.coffee(item.uid).once('value')\r\n            .then((snapshot) => {\r\n              setCoffees(c => c.concat({...snapshot.val(), uid: item.uid})) // functional update using previous value to update\r\n            })\r\n        })\r\n        setLoading(false)\r\n      })\r\n  }, [firebase])\r\n\r\n  return (\r\n    <StyledDiv>\r\n      <h2>Your Saved Coffees</h2>\r\n      {!loading ? \r\n        <Ul>\r\n          {coffees.map(coffee => (\r\n            <li key={coffee.title}>{coffee.title}</li>\r\n          ))}\r\n        </Ul>\r\n        : <h2>Loading User's Coffees..</h2>\r\n      }\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst Profile = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(ProfilePage)\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(condition)(Profile)","import styled from 'styled-components';\n\nexport const FiltersWrapper = styled.div`\n  \n  @media(max-width: 961px) {\n    width: 250px;\n    padding: 1em 2.5em;\n  }\n`\n\nexport const FiltersDiv = styled.div`\n\tpadding: 24px;\n  margin: 0 10px;\n\ttext-align: center;\n\tbackground: #fff;\n\tborder-radius: 4px;\n`\n\nexport const StyledH2 = styled.h2`\n  margin-top: 0;\n`\n\nexport const ItemsDiv = styled.div`\n\tbackground: #fff;\n  border-radius: 4px;\n  text-align: center;\n\n  @media (max-width: 600px) {\n    margin: 0 auto;\n    border-radius: 0px;\n  }\n`\n\nexport const StyledCoffeeItemDiv = styled.div`\n  margin: 8px auto;\n  padding: 8px;\n  width: 90%;\n  box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12);\n`\n\nexport const FlexContainer = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-start;\n\n  &:after {\n    content: \"\";\n    margin-left: 22%;\n\n    @media(max-width: 600px) {\n      marign-left: 47%;\n    }\n\n    @media(max-width: 960px) {\n      margin-left: 30%;\n    }\n  }\n  \n  @media (max-width: 600px) {\n    margin: 0 3.5%;\n  }\n`\n\nexport const FlexProductDiv = styled.div`\n  text-align: center;\n  flex: 0 0 22%;\n  margin: 2% 1.5%;\n  flex-flow: column;  \n  box-shadow: 1px 0px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12);\n\n  @media (max-width: 960px) {\n    flex: 0 0 30%;\n    margin: 2% calc(5%/3);\n  }\n  \n  @media (max-width: 600px) {\n    flex: 0 0 47%;\n    margin: 2% 1.5%;\n  }\n`\n\nexport const ImageContainer = styled.div`\n  position: relative;\n  width: 100%;\n\n  &:before {\n    display: block;\n    content: \"\";\n    width: 100%;\n    padding-top: 100%;\n  }\n\n  &:after {\n    position: absolute;\n    top: 0;\n    display: block;\n    width: 100%;\n    height: 100%;\n    content: \" \";\n    background-color: none;\n  }\n`\n\nexport const ImageContentContainer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n\n  img {\n    width: 100%;\n    position: relative;\n    top: 50%;\n    height: 100%;\n    object-fit: cover;\n    transform: translateY(-50%);\n  }\n`\n\nexport const InfoContainer = styled.div`\n  width: 100%;\n  padding: 10px;\n`\n\nexport const Image = styled.img`\n  width: 100%;\n`\n\nexport const ProductInfoDiv = styled.div`\n  margin-top: auto;\n\tpadding-top: 20px;\n`","import React from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport Button from '@material-ui/core/Button';\nimport FilterListIcon from '@material-ui/icons/FilterList';\n\nimport { Filters } from './index'\n\nexport default function TemporaryDrawer({ filters, setFilters }) {\n  const [state, setState] = React.useState({\n    top: false,\n    left: false,\n    bottom: false,\n    right: false,\n  });\n\n  const toggleDrawer = (anchor, open) => (event) => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    setState({ ...state, [anchor]: open });\n  };\n\n  const anchor = 'left' // set to where you want it to open\n\n  return (\n    <div>\n      <Button onClick={toggleDrawer(anchor, true)}>\n        Show Filters{' '}<FilterListIcon />\n      </Button>\n      <Drawer anchor={anchor} open={state[anchor]} onClose={toggleDrawer(anchor, false)}>\n        <Filters filters={filters} setFilters={setFilters} />\n        {/* likely can add button here to close out of dialog since changes will apply automatically */}\n      </Drawer>\n    </div>\n  );\n}","import React, { useState, useEffect, useMemo } from 'react';\nimport { withAuthorization } from '../Session';\nimport { withFirebase } from '../Firebase';\nimport { compose } from \"recompose\";\nimport { withRouter } from 'react-router-dom';\nimport {\n  FlexContainer,\n  FlexProductDiv,\n  FiltersWrapper,\n  FiltersDiv,\n  StyledH2,\n  ItemsDiv,\n  ImageContainer,\n  ImageContentContainer,\n  InfoContainer\n} from './style';\n\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Grid from '@material-ui/core/Grid'\nimport Hidden from '@material-ui/core/Hidden'\n\nimport TemporaryDrawer from './TemporaryDrawer'\n\nexport const Filters = ({ filters, setFilters }) => {\n  // TODO: add range slider component for price filter\n\n  const handleChange = (event) => {\n    setFilters({\n      ...filters,\n      [event.target.name]: event.target.checked\n    })\n  }\n\n  const { fairTrade, shadeGrown, organic, lightRoast, mediumRoast, darkRoast } = filters\n\n  return (\n    <FiltersWrapper>\n      <StyledH2>Filters</StyledH2>\n   \n      <FormGroup>\n        <Typography component=\"h2\">\n          <strong>Growing Methods</strong>\n        </Typography>\n        <Divider />\n        <FormControlLabel \n          control={\n            <Checkbox name=\"fairTrade\" color=\"primary\" value={fairTrade} onChange={handleChange} />\n          }\n          label=\"Fair Trade\"\n        />\n        <FormControlLabel\n          control={\n            <Checkbox name=\"shadeGrown\" color=\"primary\" value={shadeGrown} onChange={handleChange} />\n          }\n          label=\"Shade Grown\" />\n        <FormControlLabel\n          control={\n            <Checkbox name=\"organic\" color=\"primary\" value={organic} onChange={handleChange} />\n          }\n          label=\"Organic\" />\n      </FormGroup>\n      <br/>\n      <FormGroup>\n        <Typography component=\"h2\">\n          <strong>Roast Type</strong>\n        </Typography>\n        <Divider />\n        <FormControlLabel\n          control={\n            <Checkbox name=\"lightRoast\" color=\"primary\" value={lightRoast} onChange={handleChange} />\n          }\n          label=\"Light\" />\n        <FormControlLabel\n          control={\n            <Checkbox name=\"mediumRoast\" color=\"primary\" value={mediumRoast} onChange={handleChange} />\n          }\n          label=\"Medium\" />\n        <FormControlLabel\n          control={\n            <Checkbox name=\"darkRoast\" color=\"primary\" value={darkRoast} onChange={handleChange} />\n          }\n          label=\"Dark\" />\n      </FormGroup>\n    </FiltersWrapper>\n  )\n}\n\nconst SearchPage = () => {\n  const [filters, setFilters] = useState({})\n\n  return (\n    <>\n      <Grid container direction=\"row\" justify=\"center\">\n        <Hidden smDown>\n          <Grid item md={3}>\n            <FiltersDiv>              \n              <Filters filters={filters} setFilters={setFilters} />\n            </FiltersDiv>\n          </Grid>\n        </Hidden>\n        <Grid item md={9} sm={12}>\n          <ItemsDiv>\n            <Hidden mdUp>\n              <TemporaryDrawer filters={filters} setFilters={setFilters} />\n            </Hidden>\n            <Search filters={filters} />\n          </ItemsDiv>\n        </Grid>\n      </Grid>\n    </>\n  )\n}\n\nconst SearchBase = ({ firebase, filters }) => {\n  // const [searchQuery, setSearchQuery] = useState('') // TODO: ADD SEARCH QUERY TO FILTERS\n  const [loading, setLoading] = useState(false)\n  const [coffees, setCoffees] = useState([])\n\n  const filteredCoffees = useMemo(() => {\n    const trueFilters = {}\n    Object.keys(filters).forEach(k => {\n      if (filters[k] === true) {\n        trueFilters[k] = filters[k]\n      }\n    })\n    return coffees.filter((coffee) => {\n      let roastFound = false\n\n      if (coffee.roastType === 'light' && trueFilters.lightRoast) {\n        roastFound = true\n      }\n\n      if (coffee.roastType === 'medium' && trueFilters.mediumRoast) {\n        roastFound = true\n      }\n\n      if (coffee.roastType === 'dark' && trueFilters.darkRoast) {\n        roastFound = true\n      }\n\n      if (!trueFilters.organic && !trueFilters.shadeGrown && !trueFilters.fairTrade) {\n        return roastFound\n      }\n      else {\n        if (trueFilters.organic && !coffee.organic) {\n          return false\n        }\n        if (trueFilters.fairTrade && !coffee.fairTrade) {\n          return false\n        }\n        if (trueFilters.shadeGrown && !coffee.shadeGrown) {\n          return false\n        }\n\n        if (!trueFilters.lightRoast && !trueFilters.mediumRoast && !trueFilters.darkRoast) {\n          return true\n        }\n        else {\n          return roastFound\n        }\n      }\n    })\n  }, [coffees, filters])\n\n  useEffect(() => {\n    setLoading(true)\n    firebase.coffees().limitToFirst(1).once('value', snapshot => {\n      if (snapshot.exists()) {\n        const coffeeObject = snapshot.val()\n        const coffeesList = Object.keys(coffeeObject).map(key => ({\n          ...coffeeObject[key],\n          uid: key,\n        }))\n        \n        setCoffees(coffeesList)\n        setLoading(false)\n      }\n    })\n  }, [firebase])\n\n  const onFavoriteClick = (coffeeId) => {\n    firebase.userCoffees(firebase.auth.currentUser.uid, coffeeId).set(true)\n  }\n\n  if (loading) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <CoffeeList coffees={filteredCoffees.length > 0 ? filteredCoffees : coffees} onFavoriteClick={onFavoriteClick} />\n  )\n}\n\nconst CoffeeList = ({ coffees, onFavoriteClick }) => {\n  return (\n    <FlexContainer>\n      {coffees.map(coffee => (\n          <CoffeeItem coffee={coffee} key={coffee.uid} onFavoriteClick={onFavoriteClick} />\n        ))}\n    </FlexContainer>\n  )\n}\n\nconst CoffeeItem = ({ coffee, onFavoriteClick }) => (\n  <FlexProductDiv>\n    <ImageContainer>\n      <ImageContentContainer>\n        <img src={coffee.imageUrl} alt={coffee.title} />\n      </ImageContentContainer>\n    </ImageContainer>\n    <InfoContainer>\n      <div style={{height: '40px', overflow: 'hidden', fontWeight: 'bold'}}>{coffee.title}</div>\n      <div style={{margin: '5px 0'}}>${coffee.price}</div>\n      <div style={{margin: '5px 0', textTransform: 'capitalize'}}>{coffee.roastType} roast</div>\n      <div>\n        <button onClick={() => onFavoriteClick(coffee.uid)}>Favorite</button>\n      </div>\n    </InfoContainer>\n  </FlexProductDiv>\n)\n\nconst Search = compose(\n  withRouter,\n  withFirebase,\n)(SearchBase)\n\nconst condition = authUser => !!authUser; //shorthand for if authUser DOES NOT EQUAL null\n\nexport default withAuthorization(condition)(SearchPage)","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nexport const ProductLink = styled(Link)`\n  text-decoration: none;\n  outline: none;\n  color: black;\n`\n\nexport const BrowseWrapper = styled.div`\n  width: 100%;\n\tpadding: 2.5em;\n  display: flex;\n\n\t@media (max-width: 600px) {\n\t\tpadding: 0;\n\t}\n\n  @media (max-width: 960px) {\n    display: block;\n  }\n`\n\nexport const BrowseFiltersDiv = styled.div`\n  flex: 1;\n  max-width: 260px;\n  margin-right: 50px;\n`\n\nexport const BrowseHitsDiv = styled.div`\n  flex: 3;\n`\n\nexport const TestDiv = styled.div`\n  max-width: 260px;\n  flex: 1;\n  position: sticky;\n  top: 25px;\n  \n  @media(max-width: 960px) {\n    background: #fff;\n    border-radius: 16px;\n    top: 0;\n    left: 0;\n    max-width: initial;\n    padding-bottom: 4rem;\n    position: ${props => props.filtering ? 'absolute' : 'fixed'};\n    transform: ${props => props.filtering ? 'translateY(65px)' : 'translateY(120vh)'};\n    transition: transform 300ms cubic-bezier(0.465, 0.183, 0.153, 0.946);\n    width: 100%;\n    will-change: transform;\n    z-index: 20;\n  }\n`\n\nexport const TestFooter = styled.footer`\n  display: none;\n  @media(max-width:960px) {\n    background-color: #fff;\n    border-top: 1px solid #ebecf3;\n    bottom: 0;\n    display: ${props => props.filtering ? 'flex' : 'none'};\n    justify-content: space-between;\n    padding: 1rem;\n    position: fixed;\n    width: 100%;\n    z-index: 5;\n  }\n`\n\nexport const TestButton = styled.button`\n  display: none;\n  @media(max-width: 960px) {\n    align-items: center;\n    background-color: #008fe2;\n    border: none;\n    border-radius: 8px;\n    bottom: 2rem;\n    box-shadow: 0 4px 22px 0 rgb(74 170 174 / 40%);\n    color: #fff;\n    cursor: pointer;\n    display: ${props => props.filtering ? 'none': 'flex'};\n    font: inherit;\n    font-size: 0.875rem;\n    font-weight: bold;\n    justify-content: center;\n    left: 50%;\n    min-height: 40px;\n    min-width: 112px;\n    position: fixed;\n    transform: translateX(-50%);\n    z-index: 10;\n\n    svg {\n      height: 14px;\n      margin-right: 8px;\n      width: 16px;\n    }\n  }\n`\n\nexport const MobileFiltersButtonWrapper = styled.div`\n  @media(max-width: 960px) {\n    width: calc(50% - 0.5rem);\n  }\n`\n\nexport const SaveFiltersButtonMobile = styled.button`\n  @media(max-width: 960px) {\n    background-color: #008fe2;\n    color: #fff;\n    border-radius: 8px;\n    border: none;\n    cursor: pointer;\n    display: flex;\n    font: inherit;\n    font-size: 0.75rem;\n    font-weight: bold;\n    justify-content: center;\n    padding: 12px;\n    text-align: center;\n    width: 100%;\n  }\n`\n\nexport const BrowseFiltersHeaderDiv = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  min-height: 1.5rem;\n  margin-bottom: 20px;\n\n  h2 {\n    margin: 0;\n    font-size: 1.5rem;\n    color: #626262;\n  }\n\n  @media(max-width: 960px) {\n    margin: 20px 2rem;\n  }\n`\n\nexport const ClearRefinementsButton = styled.button`\n  padding: 0;\n  overflow: visible;\n  font: inherit;\n  line-height: normal;\n  color: rgba(33, 36, 61, 0.7);\n  background: none;\n  border: 0;\n  cursor: pointer;\n  user-select: none;\n  font-size: .88rem;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    color: rgba(33, 36, 61, 0.5);\n    cursor: not-allowed;\n  }\n\n  svg {\n    margin-right: 8px;\n  }\n\n  @media(max-width: 960px) {\n    display: none;\n  }\n`\n\nexport const ClearRefinementsButtonMobile = styled.button`\n  @media(max-width: 960px) {\n    background-color: rgba(65, 66, 71, 0.16);\n    border: none;\n    border-radius: 8px;\n    color: rgba(33, 36, 61, 0.7);\n    cursor: pointer;\n    display: flex;\n    font: inherit;\n    font-size: 0.75rem;\n    font-weight: bold;\n    justify-content: center;\n    padding: 12px;\n    text-align: center;\n    width: 100%;\n\n    &:focus {\n      outline: none;\n    }\n  }\n`\n\nexport const FlexContainer = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-start;\n\n  &:after {\n    content: \"\";\n    margin-left: 22%;\n\n    @media(max-width: 600px) {\n      marign-left: 47%;\n    }\n\n    @media(max-width: 960px) {\n      margin-left: 30%;\n    }\n  }\n  \n  @media (max-width: 600px) {\n    margin: 0 3.5%;\n  }\n\n  @media(max-width: 960px) {\n    display: ${props => props.filtering ? 'none' : 'flex'};\n  }\n`\n\nexport const AlgoliaRefinementHeader = styled.div`\n  border: none;\n  color: #21243d;\n  font-size: 0.8rem;\n  font-weight: 600;\n  letter-spacing: 0.08rem;\n  line-height: 1.6;\n  padding-bottom: 1rem;\n  text-transform: uppercase;\n`\n\nexport const AlgoliaAllRefinementListsWrapper = styled.div`\n  @media(max-width: 960px) {\n    padding: 2rem 2rem 0 2rem;\n  }\n`\n\nexport const AlgoliaRefinementListWrapper = styled.div`\n  border-top: 1px solid #ebecf3;\n  padding-bottom: 2rem;\n  padding-top: 2rem;\n`\n\nexport const AlgoliaSearchBarDiv = styled.div`\n  height: 50px;\n  border-radius: 4px;\n  background: #f5f5fa;\n  margin: 0 1.5% 15px;\n  \n  @media(max-width: 960px) {\n    margin: 0 calc(5%/3) 15px;\n  }\n\n  @media(max-width: 600px) {\n    margin: 10px 5%;\n  }\n`\n\nexport const AlgoliaSearchBarForm = styled.form`\n  height: 50px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  padding: 0 16px;\n\n`\n\nexport const AlgoliaSearchBarInput = styled.input`\n  height: 50px;\n  border: none;\n  background: transparent;\n  padding: 0 10px;\n  outline: none;\n  font-size: 16px;\n  flex-grow: 1;\n`\n\nexport const AlgoliaSearchBarSubmitButton = styled.button`\n  border: none;\n  background: transparent;\n  outline: none;\n\n  @media(max-width: 600px) {\n    padding: 0;\n  }\n`\n\nexport const AlgoliaSearchBarResetButton = styled.button`\n  background: transparent;\n  border: none;\n`\n\nexport const AlgoliaPoweredByImage = styled.img`\n  margin-left: 10px;\n  height: 16px;\n`\n\nexport const AlgoliaPoweredByLink = styled.a`\n  height: 16px;\n`\n\nexport const AlgoliaStyledStats = styled.p`\n  margin: 5px 1.5%;\n  text-align: right;\n  font-size: 13px;\n  color: grey;\n  \n  @media(max-width: 960px) {\n    margin: 5px calc(5%/3);\n  }\n\n  @media(max-width: 600px) {\n    margin: 5px 5%;\n  }\n`\n\nexport const AlgoliaStyledUl = styled.ul`\n  display: flex;\n  flex-flow: ${props => props.current ? 'row nowrap' : 'column nowrap'};\n  list-style: none;\n  padding: 0;\n  margin: 10px 0;\n\n  @media(max-width: 960px) {\n    margin: 0 2rem;\n  }\n`\n\nexport const AlgoliaStyledCurrentRefinementOuterSpan = styled.span`\n  display: block;\n  margin: 2px;\n  padding: 4px 8px;\n  background-color: #24676d;\n  font-size: 13px;\n  color: #fff;\n  border-radius: 4px;\n\n  button {\n    color: #fff;\n    opacity: .8;\n    background: transparent;\n    padding: 0;\n    cursor: pointer;\n    border: 0;\n  }\n`\n\nexport const AlgoliaStyledLi = styled.li`\n  margin-bottom: 8px;\n\n  label {\n    cursor: pointer;\n  }\n`\n\nexport const AlgoliaStyledOuterRefinementListSpan = styled.span`\n  margin-left: 8px;\n  cursor: pointer;\n`\n\nexport const AlgoliaStyledRefinementListCountSpan = styled.span`\n  display: inline-block;\n  background-color: rgba(197,201,224,.2);\n  color: #848ab8;\n  border-radius: 4px;\n  margin-left: 8px;\n  padding: 2px 4px;\n  font-size: 10px;\n  letter-spacing: 1.3px;\n`\n","import React, { useState } from 'react'\nimport algoliasearch from 'algoliasearch/lite';\nimport {\n  InstantSearch,\n  connectSearchBox,\n  connectHits,\n  connectStats,\n  connectRefinementList,\n  connectCurrentRefinements,\n} from 'react-instantsearch-dom';\nimport {\n  FlexProductDiv,\n  ImageContainer,\n  ImageContentContainer,\n  InfoContainer\n} from '../Search/style';\nimport Hidden from '@material-ui/core/Hidden'\n\nimport {\n  TestDiv,\n  AlgoliaSearchBarDiv,\n  AlgoliaSearchBarForm,\n  AlgoliaSearchBarInput,\n  AlgoliaSearchBarSubmitButton,\n  AlgoliaPoweredByImage,\n  AlgoliaPoweredByLink,\n  AlgoliaStyledStats,\n  AlgoliaStyledUl,\n  AlgoliaStyledCurrentRefinementOuterSpan,\n  AlgoliaStyledLi,\n  AlgoliaStyledOuterRefinementListSpan,\n  AlgoliaStyledRefinementListCountSpan,\n  TestButton,\n  TestFooter,\n  FlexContainer,\n  AlgoliaRefinementHeader,\n  AlgoliaRefinementListWrapper,\n  AlgoliaAllRefinementListsWrapper,\n  SaveFiltersButtonMobile,\n  MobileFiltersButtonWrapper,\n  ClearRefinementsButtonMobile,\n  BrowseWrapper,\n  BrowseFiltersDiv,\n  BrowseHitsDiv,\n  ClearRefinementsButton,\n  BrowseFiltersHeaderDiv,\n  ProductLink\n} from './style'\n\nimport { withAuthorization } from '../Session';\n\nconst searchClient = algoliasearch(\n  'BDTHKSA1TY',\n  'd3b6a47c767eebf56ba2732462bf8875'\n);\n\nconst Browse = () => {\n  const [filtering, setFiltering] = useState(false) \n  return (\n    <BrowseWrapper>\n      <InstantSearch indexName=\"coffee\" searchClient={searchClient}>\n      <Hidden mdUp>\n        <TestButton filtering={filtering} onClick={() => setFiltering(!filtering)}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 14\"><path d=\"M15 1H1l5.6 6.3v4.37L9.4 13V7.3z\" stroke=\"#fff\" strokeWidth=\"1.29\" fill=\"none\" fillRule=\"evenodd\" strokeLinecap=\"round\" strokeLinejoin=\"round\"></path></svg>\n          Show Filters\n        </TestButton>\n      </Hidden>\n          <BrowseFiltersDiv>\n            <TestDiv filtering={filtering}>\n              <BrowseFiltersHeaderDiv>\n                <h2>Filters</h2>\n                <CustomClearRefinements />\n              </BrowseFiltersHeaderDiv>\n              <CustomCurrentRefinements transformItems={items =>\n                items.map(item => {\n                  if (item.label === 'siteName: ') {\n                    item.label = 'Brand: '\n                  }\n                  return item\n                })\n              }/>\n              <AlgoliaAllRefinementListsWrapper>\n                <CustomRefinementList header=\"Brand\" attribute=\"siteName\" operator=\"or\" />\n                <CustomRefinementList header=\"Roast Type\" attribute=\"roastType\" operator=\"or\" />\n              </AlgoliaAllRefinementListsWrapper>\n              <TestFooter filtering={filtering}>\n                <CustomClearRefinementsMobile />\n                <SaveFiltersMobile onClick={() => setFiltering(false)} />\n              </TestFooter>\n            </TestDiv>\n          </BrowseFiltersDiv>\n\n          <BrowseHitsDiv>\n            <CustomSearchBox />\n            <CustomStats />\n            <FlexContainer filtering={filtering}>\n              <CustomHits hitComponent={Hit} />\n            </FlexContainer>\n          </BrowseHitsDiv>\n      </InstantSearch>\n    </BrowseWrapper>\n  )\n}\n\nconst CustomClearRefinements = connectCurrentRefinements(({ items, refine }) => {\n  return (\n    <ClearRefinementsButton onClick={() => refine(items)} disabled={!items.length}>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"11\"\n        height=\"11\"\n        viewBox=\"0 0 11 11\"\n      >\n        <g fill=\"none\" fillRule=\"evenodd\" opacity=\".4\">\n          <path d=\"M0 0h11v11H0z\" />\n          <path\n            fill=\"#000\"\n            fillRule=\"nonzero\"\n            d=\"M8.26 2.75a3.896 3.896 0 1 0 1.102 3.262l.007-.056a.49.49 0 0 1 .485-.456c.253 0 .451.206.437.457 0 0 .012-.109-.006.061a4.813 4.813 0 1 1-1.348-3.887v-.987a.458.458 0 1 1 .917.002v2.062a.459.459 0 0 1-.459.459H7.334a.458.458 0 1 1-.002-.917h.928z\"\n          />\n        </g>\n      </svg>\n      Clear filters\n    </ClearRefinementsButton>\n  )\n})\n\nconst CustomClearRefinementsMobile = connectCurrentRefinements(({ items, refine }) => {\n  return (\n    <MobileFiltersButtonWrapper>\n      <ClearRefinementsButtonMobile onClick={() => refine(items)}>Reset Filters</ClearRefinementsButtonMobile>\n    </MobileFiltersButtonWrapper>\n  )\n})\n\nconst SaveFiltersMobile = connectStats(({ nbHits, onClick }) => (\n  <MobileFiltersButtonWrapper>\n    <SaveFiltersButtonMobile onClick={onClick}>\n      View {nbHits} coffees\n    </SaveFiltersButtonMobile>\n  </MobileFiltersButtonWrapper>\n))\n\nconst CustomCurrentRefinements = connectCurrentRefinements(({ items, refine }) => (\n  <div>\n    <AlgoliaStyledUl current={true}>\n      {items.map(item => (\n        <li key={item.label}>\n          {item.items ? (\n            <>\n              {item.items.map(nested => (\n                <AlgoliaStyledCurrentRefinementOuterSpan key={nested.label}>\n                  <span>\n                    {`${item.label} ${nested.label} `}\n                  </span>\n                  <button\n                    onClick={event => {\n                      event.preventDefault();\n                      refine(nested.value);\n                    }}\n                  ></button>\n                </AlgoliaStyledCurrentRefinementOuterSpan>\n              ))}\n            </>\n          ) : (\n            <a\n              href='/#'\n              onClick={event => {\n                event.preventDefault();\n                refine(item.value);\n              }}\n            >\n              {item.label}\n            </a>\n          )}\n        </li>\n      ))}\n    </AlgoliaStyledUl>\n  </div>\n))\n\nconst CustomRefinementList = connectRefinementList(({ header, items, refine }) => (\n  <AlgoliaRefinementListWrapper>\n    <AlgoliaRefinementHeader>\n      {header}\n    </AlgoliaRefinementHeader>\n    <AlgoliaStyledUl>\n      {items.map(item => (\n          <AlgoliaStyledLi key={item.label}>\n            <label>\n              <input type=\"checkbox\" onChange={() => refine(item.value)} checked={item.isRefined} />\n              <AlgoliaStyledOuterRefinementListSpan>\n                <span style={{fontWeight: item.isRefined ? '700' : ''}}>\n                  {item.label}\n                </span>\n              </AlgoliaStyledOuterRefinementListSpan>\n              <AlgoliaStyledRefinementListCountSpan>\n                {item.count}\n              </AlgoliaStyledRefinementListCountSpan>\n            </label>\n          </AlgoliaStyledLi> \n      ))}\n    </AlgoliaStyledUl>\n  </AlgoliaRefinementListWrapper>\n))\n\nconst CustomStats = connectStats(({ processingTimeMS, nbHits }) => (\n  <AlgoliaStyledStats>{nbHits} results found in {processingTimeMS} ms</AlgoliaStyledStats>\n))\n\nconst CustomHits = connectHits(({ hits }) => {\n  return (\n    hits.map(hit => (\n        <Hit hit={hit} key={hit.objectID} />\n    ))\n  )\n})\n\nconst Hit = ({ hit }) => (\n  <FlexProductDiv>\n    <ProductLink to={`/coffee/${hit.title.toLowerCase().replace(/[^\\w ]+/g,'').replace(/ +/g,'-')}/${hit.objectID}`}>\n      <ImageContainer>\n        <ImageContentContainer>\n          <img src={hit.imageUrl} alt={hit.title} />\n        </ImageContentContainer>\n      </ImageContainer>\n      <InfoContainer>\n        <div style={{height: '40px', overflow: 'hidden', fontWeight: 'bold'}}>{hit.title}</div>\n        <div style={{margin: '5px 0'}}>${hit.price}</div>\n        {hit.roastType && <div style={{margin: '5px 0', textTransform: 'capitalize'}}>{`${hit.roastType} roast`}</div>}\n      </InfoContainer>\n    </ProductLink>\n  </FlexProductDiv>\n)\n\nconst CustomSearchBox = connectSearchBox(({ currentRefinement, isSearchStalled, refine }) => {\n  const [val, setVal] = useState('')\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    refine(val)\n  }\n  \n  if (isSearchStalled) {\n    return <h3>Search is loading...</h3>\n  }\n\n  return (\n    <AlgoliaSearchBarDiv>\n      <AlgoliaSearchBarForm onSubmit={handleSubmit} noValidate action=\"\" role=\"search\">\n        <AlgoliaSearchBarSubmitButton type=\"submit\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#8a97fd\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"11\" cy=\"11\" r=\"8\"></circle><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line></svg>\n        </AlgoliaSearchBarSubmitButton>\n        <AlgoliaSearchBarInput\n          type=\"search\"\n          value={val}\n          onChange={({ target }) => setVal(target.value)}\n          placeholder=\"Search for coffees...\"\n        />\n        <Hidden smUp>\n          <AlgoliaPoweredByLink href=\"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&utm_content=localhost&utm_campaign=poweredby\">\n            <AlgoliaPoweredByImage src=\"https://res.cloudinary.com/hilnmyskv/image/upload/q_auto/v1595410010/Algolia_com_Website_assets/images/shared/algolia_logo/algolia-blue-mark.svg\" />\n          </AlgoliaPoweredByLink>\n        </Hidden>\n        <Hidden xsDown>\n          <AlgoliaPoweredByLink href=\"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&utm_content=localhost&utm_campaign=poweredby\">\n            <AlgoliaPoweredByImage src=\"https://res.cloudinary.com/hilnmyskv/image/upload/q_auto/v1595410010/Algolia_com_Website_assets/images/search/search-by-algolia.svg\" />\n          </AlgoliaPoweredByLink>\n        </Hidden>\n      </AlgoliaSearchBarForm>\n    </AlgoliaSearchBarDiv>\n  )\n})\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(Browse)","import styled from 'styled-components'\n\nexport const TastingWrapper = styled.div`\n  width: 100%;\n\tpadding: 0 2.5em;\n\n\t@media (max-width: 600px) {\n\t\tpadding: 0;\n\t}\n`\n\nexport const TastingDiv = styled.div`\n\tpadding: 0 2.5em;\n\tmargin: 2.5em auto;\n\ttext-align: center;\n\tbackground: #fff;\n\tborder-radius: 4px;\n\tborder: 1px solid #d9e7ea;\n\n\t@media (max-width: 600px) {\n\t\tpadding: 24px 0;\n\t\tborder-radius: 0;\n\t}\n`\n\nexport const BoldLabel = styled.label`\n\tfont-weight: bold;\n`","import React, { useState, useEffect } from 'react'\nimport { withFirebase } from '../Firebase'\nimport { compose } from 'recompose';\n\nimport { TastingWrapper, TastingDiv } from './style'\nimport { FlexProductDiv, ImageContainer, ImageContentContainer, InfoContainer } from '../Search/style'\nimport { ProductLink, BrowseHitsDiv, BrowseWrapper, FlexContainer } from '../Browse/style'\n\nimport { withAuthorization } from '../Session';\n\nconst Tasting = ({ firebase }) => {\n  // const [search, setSearch] = useState('')\n  const [coffees, setCoffees] = useState([])\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    setLoading(true)\n    \n    firebase.userCoffees(firebase.auth.currentUser.uid).once('value')\n      .then((snapshot) => {\n        const coffeeIdsObject = snapshot.val()\n        const coffeeIdsList = Object.keys(coffeeIdsObject).map(key => ({\n          ...coffeeIdsObject[key],\n          uid: key,\n        }))\n        coffeeIdsList.forEach((item) => {\n          firebase.coffee(item.uid).once('value')\n            .then((snapshot) => {\n              setCoffees(c => c.concat({...snapshot.val(), uid: item.uid})) // functional update using previous value to update\n            })\n        })\n        setLoading(false)\n      })\n  }, [firebase])\n\n  return (\n      <TastingWrapper>\n      <TastingDiv>\n        <h1>Start a new tasting</h1>\n        \n        <h3>Select from one of your saved coffees to begin</h3>\n        <BrowseWrapper>\n          <BrowseHitsDiv>\n            <FlexContainer>\n            {!loading ? \n                coffees.map(coffee => (\n                  <CoffeeItem key={coffee.uid} coffee={coffee} />\n                ))\n              : <h2>Loading Coffees...</h2>\n            }\n            </FlexContainer>\n          </BrowseHitsDiv>\n        </BrowseWrapper>\n      </TastingDiv>\n    </TastingWrapper>\n  )\n}\n\nconst CoffeeItem = ({ coffee }) => (\n  <FlexProductDiv>\n    <ProductLink to={`/tasting/${coffee.title.toLowerCase().replace(/[^\\w ]+/g,'').replace(/ +/g,'-')}/${coffee.uid}`}>\n      <ImageContainer>\n        <ImageContentContainer>\n          <img src={coffee.imageUrl} alt={coffee.title} />\n        </ImageContentContainer>\n      </ImageContainer>\n      <InfoContainer>\n        <div style={{height: '40px', overflow: 'hidden', fontWeight: 'bold'}}>{coffee.title}</div>\n        <div style={{margin: '5px 0'}}>${coffee.price}</div>\n        {coffee.roastType && <div style={{margin: '5px 0', textTransform: 'capitalize'}}>{coffee.roastType} roast</div>}\n      </InfoContainer>\n    </ProductLink>\n  </FlexProductDiv>\n)\n\nconst TastingPage = compose(withFirebase)(Tasting)\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(TastingPage)","import React, { useState, useEffect } from 'react'\nimport { useParams } from \"react-router-dom\";\nimport { withFirebase } from '../Firebase/context'\nimport { StyledDiv, Wrapper, Input, StyledButton, Textarea } from '../../shared-style';\nimport { BoldLabel } from './style';\n\nconst ProductTasting = ({ firebase }) => {\n  let { id } = useParams()\n  const [coffee, setCoffee] = useState()\n  const [loading, setLoading] = useState(false)\n  const [brewMethod, setBrewMethod] = useState('')\n  const [coffeeTemperature, setCoffeeTemperature] = useState('')\n  const [grindSize, setGrindSize] = useState('')\n  const [brewTime, setBrewTime] = useState('')\n  const [coffeeWeight, setCoffeeWeight] = useState('')\n  const [waterWeight, setWaterWeight] = useState('')\n  const [notes, setNotes] = useState('')\n  \n  useEffect(() => {\n    setLoading(true)\n    firebase.coffee(id).once('value', snapshot => {\n      if (snapshot.val()) {\n        const coffeeObject = snapshot.val()\n        coffeeObject['uid'] = snapshot.key\n        \n        setCoffee(coffeeObject)\n        setLoading(false)\n      }\n    })\n  }, [firebase, id])\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n    \n  }\n\n  if (loading || !coffee) {\n    return <h2>Loading...</h2>\n  }\n  return (\n    <Wrapper>\n      <StyledDiv>\n      <h2 style={{padding: '0 10px 40px', margin: 0}}>Tasting - {coffee.title}</h2>\n        <div style={{textAlign: 'left'}}>\n          <form onSubmit={handleSubmit}>\n            <BoldLabel htmlFor=\"brewMethod\">Brew Method</BoldLabel>\n            <Input id=\"brewMethod\" placeholder=\"e.g. Aeropress, French press etc.\" value={brewMethod} onChange={({ target }) => setBrewMethod(target.value)} />\n\n            <BoldLabel htmlFor=\"coffeeTemperature\">Coffee Temperature (F)</BoldLabel>\n            <Input id=\"coffeeTemperature\" placeholder=\"e.g. 205\" value={coffeeTemperature} onChange={({ target }) => setCoffeeTemperature(target.value)} />\n\n            <BoldLabel htmlFor=\"grindSize\">Grind Size</BoldLabel>\n            <Input id=\"grindSize\" placeholder=\"e.g. Fine, coarse\" value={grindSize} onChange={({ target }) => setGrindSize(target.value)} />\n\n            <BoldLabel htmlFor=\"brewTime\">Brew Time (seconds)</BoldLabel>\n            <Input id=\"brewTime\" type=\"number\" placeholder=\"e.g. 330\" value={brewTime} onChange={({ target }) => setBrewTime(target.value)} />\n\n            <BoldLabel htmlFor=\"coffeeWeight\">Coffee Weight (g)</BoldLabel>\n            <Input id=\"coffeeWeight\" type=\"number\" placeholder=\"e.g. 20\" value={coffeeWeight} onChange={({ target }) => setCoffeeWeight(target.value)} />\n\n            <BoldLabel htmlFor=\"waterWeight\">Water Weight (g)</BoldLabel>\n            <Input id=\"waterWeight\" type=\"number\" placeholder=\"e.g. 300\" value={waterWeight} onChange={({ target }) => setWaterWeight(target.value)} />\n\n            <BoldLabel htmlFor=\"notes\">Additional Notes</BoldLabel>\n            <Textarea id=\"notes\" value={notes} onChange={({ target }) => setNotes(target.value)} />\n\n            <StyledButton type=\"submit\">Submit</StyledButton>\n          </form>\n        </div>\n      </StyledDiv>\n    </Wrapper>\n  )\n}\n\nexport default withFirebase(ProductTasting)","import styled from 'styled-components'\n\nexport const Wrapper = styled.div`\n  width: 100%;\n\tpadding: 5em;\n\n  @media (max-width: 960px) {\n    padding: 2rem\n  }\n\n\t@media (max-width: 600px) {\n\t\tpadding: 0;\n\t}\n`","import React, { useState, useEffect } from 'react'\nimport { useParams } from \"react-router-dom\";\nimport { withFirebase } from '../Firebase/context'\n\nimport { Wrapper } from './style'\nimport { Image } from '../Search/style'\n\nimport { Grid } from '@material-ui/core'\n\nconst Product = ({ firebase }) => {\n  let { id } = useParams()\n  const [coffee, setCoffee] = useState()\n  const [loading, setLoading] = useState(false)\n\n  const onFavoriteClick = (coffeeId) => {\n    firebase.userCoffees(firebase.auth.currentUser.uid, coffeeId).set(true)\n  }\n  \n  useEffect(() => {\n    setLoading(true)\n    firebase.coffee(id).once('value', snapshot => {\n      if (snapshot.val()) {\n        const coffeeObject = snapshot.val()\n        coffeeObject['uid'] = snapshot.key\n        \n        setCoffee(coffeeObject)\n        setLoading(false)\n      }\n    })\n  }, [firebase, id])\n\n  if (loading || !coffee) {\n    return <p>Loading...</p>\n  }\n  return (\n    <Wrapper>\n      <Grid container>\n        <Grid item md={7} sm={12}>\n          <Image src={coffee.imageUrl} />\n        </Grid>\n        <Grid style={{padding: '0 20px'}} item md={5} sm={12}>\n          <p style={{fontWeight: 'bold', padding: '10px 0', margin: '0', fontSize: '2.5rem'}}>{coffee.title}</p>\n          <p style={{fontSize: '1rem'}}>{coffee.siteName}</p>\n          <p>{`Price: $${coffee.price}`}</p>\n          <p style={{textTransform: 'capitalize'}}>{coffee.roastType && `${coffee.roastType} roast`}</p>\n          <p>{coffee.countries && `Countries: ${coffee.countries.join(',')}`}</p>\n          <p>{`Fair Trade: ${coffee.fairTrade ? 'Yes' : 'No'}`}</p>\n          <p>{`Organic: ${coffee.organic ? 'Yes' : 'No'}`}</p>\n          <p>{`Shade Grown: ${coffee.shadeGrown ? 'Yes' : 'No'}`}</p>\n          <p>{`Single Origin: ${coffee.singleOrigin ? 'Yes' : 'No'}`}</p>\n          <p>{`Blend: ${coffee.blend ? 'Yes' : 'No'}`}</p>\n          <button onClick={() => onFavoriteClick(coffee.uid)}>Add To List</button>\n          <a href={`${coffee.url}`}>\n            <button>Buy on {coffee.siteName}</button>\n          </a>\n          {console.log(JSON.stringify(coffee))}\n        </Grid>\n      </Grid>\n    </Wrapper>\n  )\n}\n\nexport default withFirebase(Product);","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Navigation from '../Navigation';\r\nimport LandingPage from '../Landing';\r\nimport SignUpPage from '../SignUp';\r\nimport SignInPage from '../SignIn';\r\nimport PasswordForgetPage from '../PasswordForget';\r\nimport AccountPage from '../Account';\r\nimport AdminPage from '../Admin';\r\nimport ProfilePage from '../Profile';\r\nimport SearchPage from '../Search'\r\nimport BrowsePage from '../Browse'\r\nimport TastingPage from '../Tasting'\r\nimport ProductTastingPage from '../Tasting/ProductTasting'\r\nimport ProductPage from '../Product'\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { withAuthentication } from '../Session'\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = { loaded: false }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ loaded: true })\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.loaded) {\r\n      return null\r\n    }\r\n    return (\r\n      <Router>\r\n        <Navigation /> \r\n\r\n        <Route exact path={ROUTES.LANDING} component={LandingPage} />\r\n        <Route path={ROUTES.SIGN_UP} component={SignUpPage} />\r\n        <Route path={ROUTES.SIGN_IN} component={SignInPage} />\r\n        <Route path={ROUTES.PASSWORD_FORGET} component={PasswordForgetPage} />\r\n        <Route path={ROUTES.ACCOUNT} component={AccountPage} />\r\n        <Route path={ROUTES.PROFILE} component={ProfilePage} />\r\n        <Route path={ROUTES.ADMIN} component={AdminPage} />\r\n        <Route path={ROUTES.BROWSE} component={BrowsePage} />\r\n        <Route path={ROUTES.PRODUCT} component={ProductPage} />\r\n        <Route path={ROUTES.SEARCH} component={SearchPage} />\r\n        <Route exact path={ROUTES.TASTING} component={TastingPage} />\r\n        <Route path={ROUTES.PRODUCT_TASTING} component={ProductTastingPage} />\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\n// this wraps the entire app around the authentication context so the authUser object is always available on auth state change\r\nexport default withAuthentication(App)","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './components/App';\nimport Firebase, { FirebaseContext } from './components/Firebase';\n\nReactDOM.render(\n    <FirebaseContext.Provider value={new Firebase()}>\n        <App />\n    </FirebaseContext.Provider>,\n    document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}